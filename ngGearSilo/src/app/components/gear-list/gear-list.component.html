<div class="contaner-fluid">
  <div class="row">
    <div class="col-1"></div>
    <div class="col-10">
      <div>
        <br>
        <div class="container-center">
          <form class="form-group my-2 my-lg-0">
            <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search" name="keyword"
              [(ngModel)]="keyword">
            <button class="btn btn-dark my-2 my-sm-0" type="submit" (click)="search(); selected=null">Search by
              keyword</button>
          </form>
        </div>


        <br>
        <div *ngIf="!selected && hideSearchResult">
          <div class="text-center">
            <h2>Gear List</h2>
          </div>
          <table class="table table-primary table-bordered">
            <thead class="thead-dark">
              <tr>
                <th scope="col" style="text-align:center">Image</th>
                <th scope="col">Name</th>
                <th scope="col">Description</th>
                <th scope="col">Price</th>
                <th scope="col">Condition</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of gearList">
                <td *ngIf="item.active == true" scope="row" (click)="displayGearItem(item)" style="text-align:center">
                  <img src="{{item.imageUrl}}" alt="gear image" class="gear-img-list"></td>
                <td *ngIf="item.active == true" (click)="displayGearItem(item)">{{item.name | titlecase }}</td>
                <td *ngIf="item.active == true" (click)="displayGearItem(item)">{{item.description | lowercase }}</td>
                <td *ngIf="item.active == true" (click)="displayGearItem(item)">{{item.price | currency}}</td>
                <td *ngIf="item.active == true" (click)="displayGearItem(item)">{{item.gearCondition | lowercase }}</td>
              </tr>
            </tbody>
          </table>
          <div class="text-center">
            <p>Click a row for more details.</p>
          </div>
        </div>
      </div>

      <div *ngIf="!selected  && !hideSearchResult">
        <div *ngIf="searchedGear.length === 0">
          <div class="text-center">
            <h2>No Search Results Found</h2>
          </div>
        </div>

        <div *ngIf="searchedGear.length > 0">
          <div class="text-center">
            <h2>Search Results</h2>
          </div>
          <table class="table table-primary table-bordered">
            <thead class="thead-dark">
              <tr>
                <th scope="col" style="text-align:center">Image</th>
                <th scope="col">Name</th>
                <th scope="col">Description</th>
                <th scope="col">Price</th>
                <th scope="col">Condition</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of searchedGear">
                <td *ngIf="item.active == true" scope="row" (click)="displayGearItem(item)" style="text-align:center">
                  <img src="{{item.imageUrl}}" alt="gear image" class="gear-img-list"></td>
                <td *ngIf="item.active == true" (click)="displayGearItem(item)">{{item.name | titlecase }}</td>
                <td *ngIf="item.active == true" (click)="displayGearItem(item)">{{item.description | lowercase }}</td>
                <td *ngIf="item.active == true" (click)="displayGearItem(item)">{{item.price | currency}}</td>
                <td *ngIf="item.active == true" (click)="displayGearItem(item)">{{item.gearCondition | lowercase }}</td>
              </tr>
            </tbody>
          </table>
          <div class="text-center">
            <p>Click a row for more details.</p>
          </div>
        </div>
      </div>




      <div *ngIf="selected">
        <br>
        <div class="text-center">
          <h2>Gear Details</h2>
        </div>
        <ul class="list-group">
          <li class="list-group-item" *ngIf="this.selected && this.selected.id && this.selected.id > 0">
            Id:
            {{selected.id}}</li>
          <li class="list-group-item ">Name: {{selected.name | titlecase }}</li>
          <li class="list-group-item " style="text-align:center">
            <img src="{{selected.imageUrl}}" alt="gear image" class="gear-img-details">
            <img *ngIf="selected.imageUrl2 && selected.imageUrl2.length > 0" src="{{selected.imageUrl2}}"
              alt="gear image" class="gear-img-details">
            <img *ngIf="selected.imageUrl3 && selected.imageUrl3.length > 0" src="{{selected.imageUrl3}}"
              alt="gear image" class="gear-img-details">
          </li>
          <li class="list-group-item" *ngIf="this.selected && this.selected.description">
            Description:
            {{selected.description | lowercase }}</li>
          <li class="list-group-item ">Price per day: {{selected.price | currency }}</li>
          <li class="list-group-item ">Condition: {{selected.gearCondition | lowercase }}</li>
          <li class="list-group-item " *ngIf="selected.available == true">Available: Yes!</li>
          <li class="list-group-item " *ngIf="selected.available == false">Available: Sorry, it is not available to rent
            at this time.</li>

          <li class="list-group-item ">Rent From: {{selected.user.firstName | titlecase }}
            {{selected.user.lastName | titlecase }}</li>
          <li class="list-group-item ">Location: {{selected.user.address.city | titlecase }},
            {{selected.user.address.state | titlecase }} {{selected.user.address.postalCode}}</li>

        </ul>
        <br>
        <div class="btn-group" role="group" aria-label="Basic example">
          <div class="btn-group" role="group" aria-label="Basic example">
            <button (click)="selected=null" class="btn btn-dark my-2 my-sm-0">Back to the list</button>
          </div>
          <div class="btn-group" role="group" aria-label="Basic example">
            <button (click)="startReservation()" class="btn btn-warning my-2 my-sm-0">Make a Reservation</button>
          </div>
        </div>
      </div>

    </div>
    <div class="col-1"></div>
  </div>
</div>

<nav>
  <div class="container-fluid navbar navbar-light bg-light">
    <a class="navbar-brand"><strong>Admin</strong></a>
    <h1>
      <span class="badge badge-primary">{{ countUsers() }}</span> GearSilo Users,
      <span class="badge badge-primary">{{ countGear() }}</span> pieces of Gear, and
      <span class="badge badge-primary">{{ countResv() }}</span> Reservations
    </h1>
  </div>
</nav>

<!-- User List  -->

<div class="container-fluid bg-light">
  <ngb-tabset >
    <ngb-tab title="Users" (tabChange)="selectedUser = false">
      <ng-template ngbTabContent>
        <div id="userList" class="container-fluid" *ngIf="!selectedUser">
          <table class="table table-striped table-hover">
            <thead class="thead-light">
              <tr>
                <th>Id</th>
                <th>Last Name</th>
                <th>First Name</th>
                <th>Email</th>
                <th>Role</th>
                <th>Enabled</th>
              </tr>
            </thead>
            <tbody>
              <tr
                class="showHand"
                *ngFor="let user of users"
                (click)="selectedUser = user"
              >
                <td>{{ user.id }}</td>
                <td>{{ user.lastName }}</td>
                <td>{{ user.firstName }}</td>
                <td>{{ user.email }}</td>
                <td>{{ user.role }}</td>
                <td>{{ user.enabled }}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Single User Display w/Options Here -->

          <div class="container" id="oneUser" *ngIf="selectedUser"> <!-- Add && !selectedUpdate element here -->
            <h1>{{ selectedUser.firstName | uppercase }} {{ selectedUser.lastName | uppercase }}</h1>
            <br />
            <ul class="list-group">
              <li class="list-group-item">
                User Id: {{ selectedUser.id }}
              </li>
              <li class="list-group-item">
                Email: {{ selectedUser.email }}
              </li>
              <li class="list-group-item">
                Password: {{ selectedUser.password }}
              </li>
              <li class="list-group-item">
                Address: {{ selectedUser.address.address }}
              </li>
              <li class="list-group-item">
                Address2: {{ selectedUser.address.address2 }}
              </li>
              <li class="list-group-item">
                City: {{ selectedUser.address.city }}
              </li>
              <li class="list-group-item">
                State: {{ selectedUser.address.state }}
              </li>
              <li class="list-group-item">
                Country: {{ selectedUser.address.country }}
              </li>
              <li class="list-group-item">
                Postal Code: {{ selectedUser.address.postalCode }}
              </li>
              <li class="list-group-item">
                Phone: {{ selectedUser.phone }}
              </li>
              <li class="list-group-item">
                Created: {{ selectedUser.createdAt | date: "shortDate" }}
              </li>
              <li class="list-group-item">
                Last Updated: {{ selectedUser.updatedAt | date: "shortDate" }}
              </li>
              <li class="list-group-item">
                Role: {{ selectedUser.role }}
              </li>
              <li class="list-group-item">
                Created: {{ selectedUser.enabled }}
              </li>
            </ul>
            <br />
            <div class="btn-group" role="group" aria-label="selected task">
              <button class="btn btn-outline-success" (click)="selectedUser = null">
                Back
              </button>
              <button class="btn btn-outline-success" > <!-- (click)="setUpdateUser()" -->
                Edit
              </button>
            </div>
          </div>
      </ng-template>
    </ngb-tab>
    <ngb-tab>
      <ng-template ngbTabTitle><b>Gear</b> List</ng-template>
      <ng-template ngbTabContent>

        <!-- Gear List Tab -->

      <div id="gearList" class="container-fluid" *ngIf="!selectedGear">
        <table class="table table-striped table-hover">
          <thead class="thead-light">
            <tr>
              <th>Id</th>
              <th>Gear</th>
              <th>Owner Id</th>
              <th>First Name</th>
              <th>Last Name</th>
              <th>Available</th>
              <th>Active</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let gear of gearList" class="showHand" (click)="selectedGear = true">
              <td>{{ gear.id }}</td>
              <td>{{ gear.name }}</td>
              <td>{{ gear.user.id }}</td>
              <td>{{ gear.user.firstName }}</td>
              <td>{{ gear.user.lastName }}</td>
              <td>{{ gear.available }}</td>
              <td>{{ gear.active }}</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Single Gear Display w/Options Here -->

      <div *ngIf="selectedGear">
        <a>Diplay Single</a>
        <button
          type="button"
          class="btn btn-outline-primary"
          (click)="selectedGear = false"
        >
          Back
        </button>
      </div>
    </ng-template>
      </ngb-tab>

      <!-- Reservation List Tab -->

    <ngb-tab title="Reservations">
      <ng-template ngbTabContent>
        <div id="resvList" class="container-fluid" *ngIf="!selectedResv">
          <table class="table table-striped table-hover">
            <thead class="thead-light">
              <tr>
                <th>Reservation Id</th>
                <th>Lender Id</th>
                <th>Renter Id</th>
                <th>Created Date</th>
                <th>Approved</th>
                <th>Completed</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let reservation of resvList" class="showHand" (click)="selectedResv = reservation">
                <td>{{ reservation.id }}</td>
                <td>{{ reservation.gearId.user.id }}</td>
                <td>{{ reservation.userShopper.id }}</td>
                <td type="date">{{ reservation.createdAt | date: "shortDate" }}</td>
                <td>{{ reservation.approved }}</td>
                <td>{{ reservation.completed }}</td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Single Reservation Display w/Options Here -->

        <div class="container" id="oneReservation" *ngIf="selectedResv"> <!-- && !updateResv element here -->
          <h1>{{ selectedResv.gearId.name | uppercase }}</h1>
          <br />
          <ul class="list-group">
            <li class="list-group-item">
              Reservation Id: {{ selectedResv.id }}
            </li>
            <li class="list-group-item">
              Reservation Created: {{ selectedResv.createdAt | date: "shortDate" }}
            </li>
            <li class="list-group-item">
              Approved: {{ selectedResv.approved }}
            </li>
            <li class="list-group-item">
              Completed: {{ selectedResv.completed }}
            </li>
            <li class="list-group-item">
              Lender Id: {{ selectedResv.gearId.user.id }}
            </li>
            <li class="list-group-item">
              Lender Email: {{ selectedResv.gearId.user.email }}
            </li>
            <li class="list-group-item">
              Shopper Id: {{ selectedResv.userShopper.id }}
            </li>
            <li class="list-group-item">
              Shopper Email: {{ selectedResv.userShopper.email }}
            </li>
          </ul>
          <br />
          <div class="btn-group" role="group" aria-label="selected task">
            <button class="btn btn-outline-success" (click)="selectedResv = null">
              Back
            </button>
            <button class="btn btn-outline-success">
              Edit
            </button>
          </div>
        </div>
      </ng-template>
    </ngb-tab>
  </ngb-tabset>
</div>
